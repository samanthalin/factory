<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Smart Factory</title>
	<link rel="stylesheet" href="font/css/font-awesome.min.css">
	<link rel="stylesheet" href="style.css">
	<script src="https://code.highcharts.com/stock/highstock.js"></script>
	<!-- <script src="https://code.highcharts.com/stock/modules/exporting.js"></script> -->
</head>
<body class="motor-data">
	<a href="index.html" class="home">
		<i i class="fa fa-th-large" aria-hidden="true"></i>
	</a>
	
	<div class="container">
		<div class="title">1 號馬達資料</div>
		<div id="container" style="height: 400px; min-width: 310px" class="chart"></div>
	</div>
	
<!--
	<script>
var myData;
var a;
// document.addEventListener("DOMContentLoaded", function(){
//   // Handler when the DOM is fully loaded
//   getData();
// });


// var resultA = [];
// var resultB = [];
// var resultC = [];
// var resultD = [];
// var setFormat = function(myData){
	
// 	var item;
// 	console.log(myData.length)
// 	for(item = 0; item < myData.length; item++){
// 		//console.log(item)
// 		if (item <= 249){
// 			resultA.push(myData[item]);
// 		} 
// 		else if 
// 		(item >= 250 && item <= 499){
// 			resultB.push(myData[item]);
// 		}
// 		else if 
// 		(item >= 500 && item <= 749){
// 			resultC.push(myData[item]);
// 		}
// 		else if
// 		(item >= 750 && item <= 999){
// 			resultD.push(myData[item]);
// 		}
// 		//console.log(resultA)
// 	}
// console.log(resultA)
// console.log(resultB)
// console.log(resultC)
// console.log(resultD)
// }

//setInterval(function() {
//var n = d.getTime();
//getData(n)
//console.log(myData)
//document.body.appendChild(myData)
//}, 1000);



	Highcharts.setOptions({
	    global: {
	        useUTC: false
	    }
	});

	// Create the chart
	Highcharts.stockChart('container', {
	    chart: {
	        events: {
	            load: function () {
					  fetch("https://blahdns.herokuapp.com/http://140.124.184.204:8080/Cloud/TestObj/QuerySecond?s=" + Math.round(new Date().getTime()/1.0))
					    .then((respone) => {
					    	if(respone.ok) { console.log(`Respone OK!`)}
					    })
					    .then(function(j) { 
					    console.log(myData);
					      myData = j;
					    })
					    .catch((error) => {
					    	console.log(error)
					    })
	                // set up the updating of the chart each second
	               //var series = this.series[0];
	                //console.log(resultA);
	                //setInterval(function () {
	                //var x = resultA., // current time
	                // var y = Math.round(Math.random() * 100);
	                //     series.addPoint([x, y], true, false);
	                //     series.redraw();
	                //}, 250);
	            }
	        }
	    },
	    rangeSelector: {
	        buttons: [{
	            count: 1,
	            type: 'minute',
	            text: '1S'
	        }, {
	            count: 5,
	            type: 'minute',
	            text: '5M'
	        }, {
	            type: 'all',
	            text: 'All'
	        }],
	        inputEnabled: false,
	        selected: 0
	    },

	    title: {
	        text: 'Live random data'
	    },

	    exporting: {
	        enabled: false
	    },

	    series: [{
	        name: 'Random data',
	        data: (function () {	

	        	var initA = setInterval(function(){
	        	},1000)
	            //generate an array of random data
	            var data = [],
	                time = (new Date()).getTime(),
	                i;

	            for (i = -999; i <= 0; i += 1) {
	                data.push([
	                    time + i * 1000,
	                    Math.round(Math.random() * 100)
	                ]);
	            }
	            return data;
	        }())
	    }]
	});

	</script>
!-->
<script>
	
Highcharts.setOptions({
    global: {
        useUTC: false
    }
});

// Create the chart
Highcharts.stockChart('container', {
    chart: {
        events: {
            load: function () {

                // set up the updating of the chart each second
                var series = this.series[0];
                setInterval(function () {
                    var x = (new Date()).getTime(), // current time
                        y = Math.round(Math.random() * 100);
                    series.addPoint([x, y], true, true);
                }, 1000);
            }
        }
    },

    rangeSelector: {
        buttons: [{
            count: 1,
            type: 'minute',
            text: '1M'
        }, {
            count: 5,
            type: 'minute',
            text: '5M'
        }, {
            type: 'all',
            text: 'All'
        }],
        inputEnabled: false,
        selected: 0
    },

    title: {
        text: 'Live random data'
    },

    exporting: {
        enabled: false
    },

    series: [{
        name: 'Random data',
        data: (function () {
            // generate an array of random data
            var data = [],
                time = (new Date()).getTime(),
                i;

            for (i = -999; i <= 0; i += 1) {
                data.push([
                    time + i * 1000,
                    Math.round(Math.random() * 100)
                ]);
            }
            return data;
        }())
    }]
});


</script>
</body>
</html>